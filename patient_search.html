<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Patient Search - Hypercare Admin</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      xintegrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />

    <!-- Google Font: Poppins -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <style>
      /* --- BASE STYLES --- */
      body {
        font-family: "Poppins", sans-serif;
        background-color: #1c1c3a; /* Dark background */
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        color: white;
      }

      /* --- SEARCH BAR --- */
      .search-container {
        position: relative;
        margin-bottom: 1rem;
      }
      .search-input {
        border-radius: 1rem;
        padding: 0.75rem 1.5rem;
        padding-right: 3.5rem;
        font-weight: bold;
        font-size: 1.5rem;
        color: #4a43d1; /* Purple text */
        border: none;
        background-color: white;
      }
      .search-input::placeholder {
        color: #4a43d1;
        opacity: 1;
      }
      .search-icon-large {
        position: absolute;
        right: 1.5rem;
        top: 50%;
        transform: translateY(-50%);
        color: #4a43d1; /* Purple icon */
        font-size: 2.5rem;
        cursor: pointer; /* Make it look clickable */
      }
      /* Add hover effect to icon to hint it clears text */
      .search-icon-large:hover {
        opacity: 0.8;
      }

      /* --- ENTER BUTTON --- */
      .btn-enter {
        background-color: #ffffff;
        color: #4a43d1;
        font-weight: bold;
        border-radius: 1rem;
        padding: 0.5rem 2rem;
        font-size: 1.25rem;
        border: none;
      }
      .btn-enter:hover {
        background-color: #f0f0f0;
      }

      /* --- PATIENT CARD --- */
      .patient-card {
        background-color: #ffffff;
        border-radius: 1.5rem;
        padding: 1rem;
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        /* Text inside card is dark */
        color: #000; 
      }
      
      .patient-avatar {
        width: 80px;
        height: 80px;
        background-color: #4a43d1; /* Blue square */
        border-radius: 1rem;
        flex-shrink: 0;
        margin-right: 1rem;
      }

      .patient-info {
        flex-grow: 1;
      }

      .patient-name {
        color: #4a43d1;
        font-weight: bold;
        font-size: 1.25rem;
        margin-bottom: 0.25rem;
      }

      .patient-divider {
        border-top: 2px solid #000;
        margin: 0.25rem 0;
      }

      .patient-details {
        font-size: 0.8rem;
        color: #000;
        line-height: 1.2;
      }
      
      /* Back Button Style */
      .back-arrow {
        color: #ffffff;
        font-size: 2rem;
        text-decoration: none;
      }
      .back-arrow:hover {
        color: #cccccc;
      }
    </style>
  </head>
  <body>
    <!-- Header / Top Bar -->
    <div class="container pt-4 pb-2">
      <!-- Link back to the previous list or dashboard -->
      <a href="list_patient.html" class="back-arrow">
        <i class="bi bi-arrow-left"></i>
      </a>
    </div>

    <!-- Main Content -->
    <main class="container">
      
      <!-- Title Section -->
      <div class="mb-4">
        <h1 class="fw-bold">Search Result</h1>
        <p class="mb-0">Didn't found the patient? search</p>
        <p>again</p>
      </div>

      <!-- Search Section -->
      <div class="mb-5">
        <div class="search-container">
          <input 
            type="text" 
            class="form-control search-input" 
            placeholder="Search..."
            value="Search..." 
            id="patientSearchInput"
            onfocus="if(this.value==='Search...') this.value='';"
          >
          <!-- Clicking the icon now clears the search -->
          <i class="bi bi-search search-icon-large" id="clearSearchBtn" title="Clear Search"></i>
        </div>
        <div class="text-end">
          <button class="btn btn-enter" id="searchEnterButton">Enter</button>
        </div>
      </div>

      <!-- Other Patient List Title -->
      <h2 class="fw-bold mb-3">Other Patient</h2>

      <!-- Patient List -->
      <div class="patient-list" id="patientListContainer">
        
        <!-- Patient Card 1 -->
        <div class="patient-card patient-item">
          <div class="patient-avatar"></div>
          <div class="patient-info">
            <div class="patient-name">Wayan Antonio</div>
            <div class="patient-divider"></div>
            <div class="patient-details">
              Medical Report: Lorem ipsum dolor sit amet, consectetur adipiscing elit.
            </div>
          </div>
        </div>

        <!-- Patient Card 2 -->
        <div class="patient-card patient-item">
          <div class="patient-avatar"></div>
          <div class="patient-info">
            <div class="patient-name">Budi Santoso</div>
            <div class="patient-divider"></div>
            <div class="patient-details">
              Medical Report: Lorem ipsum dolor sit amet, consectetur adipiscing elit.
            </div>
          </div>
        </div>

        <!-- Patient Card 3 -->
        <div class="patient-card patient-item">
          <div class="patient-avatar"></div>
          <div class="patient-info">
            <div class="patient-name">Siti Aminah</div>
            <div class="patient-divider"></div>
            <div class="patient-details">
              Medical Report: Lorem ipsum dolor sit amet, consectetur adipiscing elit.
            </div>
          </div>
        </div>

        <!-- Patient Card 4 -->
        <div class="patient-card patient-item">
          <div class="patient-avatar"></div>
          <div class="patient-info">
            <div class="patient-name">Wayan Antonio</div>
            <div class="patient-divider"></div>
            <div class="patient-details">
              Medical Report: Lorem ipsum dolor sit amet, consectetur adipiscing elit.
            </div>
          </div>
        </div>

        <!-- Patient Card 5 -->
        <div class="patient-card patient-item">
          <div class="patient-avatar"></div>
          <div class="patient-info">
            <div class="patient-name">Joko Widodo</div>
            <div class="patient-divider"></div>
            <div class="patient-details">
              Medical Report: Lorem ipsum dolor sit amet, consectetur adipiscing elit.
            </div>
          </div>
        </div>
        
        <!-- No Results Message (Hidden by default) -->
        <div id="noResultsMessage" class="text-center text-white mt-5 d-none">
          <h3>No patients found matching your search.</h3>
        </div>

      </div>
    </main>

    <!-- Bootstrap JS Bundle -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      xintegrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    
    <!-- Search Logic Script -->
    <script>
      const searchInput = document.getElementById('patientSearchInput');
      const searchButton = document.getElementById('searchEnterButton');
      const clearButton = document.getElementById('clearSearchBtn');
      const patientItems = document.querySelectorAll('.patient-item');
      const noResultsMessage = document.getElementById('noResultsMessage');

      // Function to perform the search
      function performSearch() {
        const filter = searchInput.value.toLowerCase().trim();
        let visibleCount = 0;

        patientItems.forEach(item => {
          const nameElement = item.querySelector('.patient-name');
          const nameText = nameElement.textContent.toLowerCase();

          // If filter is empty or matches name, show card
          if (filter === "" || filter === "search..." || nameText.includes(filter)) {
            item.classList.remove('d-none');
            visibleCount++;
          } else {
            item.classList.add('d-none');
          }
        });

        // Show/Hide "No Results" message
        if (visibleCount === 0) {
          noResultsMessage.classList.remove('d-none');
        } else {
          noResultsMessage.classList.add('d-none');
        }
      }

      // Reset Search function
      function resetSearch() {
        searchInput.value = "";
        searchInput.focus();
        performSearch(); // Show all items
      }

      // Event Listeners
      searchButton.addEventListener('click', performSearch);
      clearButton.addEventListener('click', resetSearch); // Icon resets search

      // Allow pressing "Enter" key
      searchInput.addEventListener('keyup', function(event) {
        if (event.key === 'Enter') {
          performSearch();
        }
      });

      // Real-time search (updates as you type)
      searchInput.addEventListener('input', performSearch);
    </script>
  </body>
</html>